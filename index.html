<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<title>搜过关键字匹配</title>
	<script type="text/javascript" src="jquery.js" ></script>
</head>
<body>
	<form class="fl search_form" action="#" method="post">
			<input class="search_text" id="searchKey" type="search" placeholder="请输入搜索关键字" onkeyup="searchSuggest(this);" />
			<input class="search_btn" type="submit" value="搜索" />
		</form>
		<!--start--智能搜索关键字匹配弹出层-->
		<ul class="keywords_list"></ul>
		<!--end--智能搜索关键字匹配弹出层-->
		<script>
			//当在搜索框输入内容时，根据关键字匹配，显示弹出层
			function searchSuggest(obj) {
				var searchKey = $(obj).val();
				var reg = new RegExp(searchKey, "i"); //忽略大小写匹配搜索框中输入的内容
				$.ajax({
					type: "get",
					url: "js.json",
					dataType: "json",
					success: function(data) {
						var arr = [];
						for(var i = 0, len = data.length; i < len; i++) {
							if(searchKey != "" && (data[i].initial.search(reg) != -1 || data[i].keyword.search(reg) != -1)) {
								arr.push("<li onclick='changeSearchKey(this);'>" + data[i].keyword + "</li>");
							}
						}
						$(".keywords_list").html(arr).show();
					}
				});
			}
			//单击匹配列表中的关键字选项时，将该关键字显示在搜索框中
			function changeSearchKey(obj) {
				var value = $(obj).text();
				$("#searchKey").val(value);
				$('.keywords_list').hide();
			}
		</script>
</body>
</html>
